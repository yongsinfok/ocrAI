# æœ¬åœ° OCR åº”ç”¨è®¾è®¡æ–‡æ¡£

## 1. æ¦‚è¿°

ä¸€ä¸ªæœ¬åœ°éƒ¨ç½²çš„æ™ºèƒ½æ–‡æ¡£å¤„ç†åº”ç”¨ï¼Œæ”¯æŒä¸Šä¼  PDF/å›¾ç‰‡ï¼Œä½¿ç”¨ GLM-OCR æå–å†…å®¹ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€æŸ¥è¯¢å¹¶å¯¼å‡ºä¸º Excel ç­‰æ ¼å¼ã€‚

**æŠ€æœ¯æ ˆ**ï¼š
- å‰ç«¯ï¼šStreamlit
- åŽç«¯ï¼šPython
- PDF è§£æžï¼šPyMuPDF (fitz)
- OCR æ¨¡åž‹ï¼šGLM-OCR-GGUF
- æŸ¥è¯¢ç†è§£ï¼šLlama-3.1-8B-Instruct GGUF
- æ¨¡åž‹æŽ¨ç†ï¼šllama-cpp-python (CUDA åŠ é€Ÿ)

---

## 2. ç³»ç»Ÿæž¶æž„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Streamlit ç•Œé¢                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æ–‡ä»¶ä¸Šä¼    â”‚  â”‚  èŠå¤©ç•Œé¢   â”‚  â”‚  ç»“æžœé¢„è§ˆ/ä¸‹è½½      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æœåŠ¡å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ PDF è§£æžå™¨  â”‚  â”‚ æŸ¥è¯¢å¤„ç†å™¨  â”‚  â”‚  å¯¼å‡ºç®¡ç†å™¨         â”‚  â”‚
â”‚  â”‚ (PyMuPDF)   â”‚  â”‚ (Llama-3.1) â”‚  â”‚  (Excel/CSV/JSON)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ¨¡åž‹å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   GLM-OCR-GGUF      â”‚  â”‚   Llama-3.1-8B-Instruct     â”‚   â”‚
â”‚  â”‚   (OCR + ç†è§£)       â”‚  â”‚   (æŸ¥è¯¢ç†è§£ + æ ¼å¼åŒ–)        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç´¢å¼•å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ç»“æž„ç´¢å¼•    â”‚  â”‚ å…¨æ–‡ç´¢å¼•    â”‚  â”‚  é¡µé¢ç¼“å­˜           â”‚  â”‚
â”‚  â”‚ (ç« èŠ‚æ ‘)    â”‚  â”‚ (Whoosh)    â”‚  â”‚  (OCR ç»“æžœ)         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. æ ¸å¿ƒæ¨¡å—

### 3.1 PDF è§£æžå™¨ (`pdf_parser.py`)

**èŒè´£**ï¼š
- è§£æž PDF æ–‡æ¡£ç»“æž„
- æ£€æµ‹é¡µé¢ç±»åž‹ï¼ˆæ–‡å­—ç‰ˆ / æ‰«æç‰ˆï¼‰
- æž„å»ºç« èŠ‚ç´¢å¼•
- æå–æ–‡æœ¬å†…å®¹

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```python
class PDFParser:
    def parse_document(pdf_path) -> Document
    def build_structure_index(doc) -> Dict[str, int]  # ç« èŠ‚å· -> é¡µç 
    def detect_page_type(page) -> PageType  # TEXT/IMAGE/MIXED
    def extract_text(page) -> str
    def extract_images(page) -> List[Image]
```

### 3.2 ç´¢å¼•ç®¡ç†å™¨ (`index_manager.py`)

**èŒè´£**ï¼š
- æž„å»ºå€’æŽ’å…¨æ–‡ç´¢å¼•
- å¿«é€Ÿå­—ç¬¦ä¸²æœç´¢
- ç« èŠ‚æ ‘å¯¼èˆª

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```python
class IndexManager:
    def build_fulltext_index(doc) -> None
    def search(query: str) -> List[SearchResult]
    def get_structure_tree() -> Dict
```

### 3.3 æ¨¡åž‹ç®¡ç†å™¨ (`model_manager.py`)

**èŒè´£**ï¼š
- æ¨¡åž‹ä¸‹è½½ä¸ŽåŠ è½½
- GPU/CPU èµ„æºç®¡ç†
- æ¨¡åž‹åˆ‡æ¢

**é…ç½®**ï¼š
```python
MODEL_CONFIG = {
    "glm_ocr": {
        "repo_id": "ggml-org/GLM-OCR-GGUF",
        "file": "glm-ocr-q4_k_m.gguf",
        "n_gpu_layers": -1,  # å°½å¯èƒ½ç”¨ GPU
        "n_ctx": 4096
    },
    "llama_3_1": {
        "repo_id": "lm-community/Llama-3.1-8B-Instruct-GGUF",
        "file": "llama-3.1-8b-instruct-q4_k_m.gguf",
        "n_gpu_layers": -1,
        "n_ctx": 8192
    }
}
```

### 3.4 æŸ¥è¯¢å¤„ç†å™¨ (`query_processor.py`)

**èŒè´£**ï¼š
- è§£æžç”¨æˆ·æŸ¥è¯¢æ„å›¾
- åˆ†ç±»æŸ¥è¯¢ç±»åž‹
- åè°ƒå„æ¨¡å—æ‰§è¡Œ

**æŸ¥è¯¢åˆ†ç±»**ï¼š
```python
class QueryType(Enum):
    SIMPLE_EXTRACT = "simple_extract"      # ç›´æŽ¥æå–
    FORMAT_CONVERT = "format_convert"      # æ ¼å¼è½¬æ¢
    COMPUTE = "compute"                    # è®¡ç®—/è¿‡æ»¤
    MULTI_STEP = "multi_step"              # å¤šæ­¥éª¤
```

**å¤„ç†æµç¨‹**ï¼š
```
ç”¨æˆ·æŸ¥è¯¢ â†’ Llama-3.1 æ„å›¾åˆ†æž â†’ åˆ†ç±»
    â†“
æ ¹æ®åˆ†ç±»ï¼š
  - SIMPLE_EXTRACT: ç´¢å¼•å®šä½ â†’ PyMuPDF/GLM-OCR æå–
  - FORMAT_CONVERT: æå– â†’ Llama-3.1 æ ¼å¼åŒ–
  - COMPUTE: æå– â†’ Llama-3.1 å¤„ç†
  - MULTI_STEP: åˆ†æ­¥æ‰§è¡Œ
```

### 3.5 OCR å¼•æ“Ž (`ocr_engine.py`)

**èŒè´£**ï¼š
- GLM-OCR æŽ¨ç†
- è¡¨æ ¼ç»“æž„åŒ–è¯†åˆ«
- ç»“æžœç¼“å­˜

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```python
class OCREngine:
    def process_page(image) -> OCRResult
    def extract_table(image) -> List[List[str]]
    def process_with_cache(page_id, image) -> OCRResult
```

### 3.6 å¯¼å‡ºç®¡ç†å™¨ (`export_manager.py`)

**èŒè´£**ï¼š
- æ•°æ®æ ¼å¼è½¬æ¢
- Excel/CSV/JSON ç”Ÿæˆ
- äº¤äº’å¼é¢„è§ˆ

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```python
class ExportManager:
    def to_excel(data, filename) -> bytes
    def to_csv(data) -> str
    def to_json(data) -> str
    def format_by_template(data, template) -> str
```

---

## 4. æ•°æ®æµç¨‹

### 4.1 æ–‡æ¡£ä¸Šä¼ æµç¨‹

```
ç”¨æˆ·ä¸Šä¼  PDF
    â†“
PDFParser.parse_document()
    â†“
- æ£€æµ‹æ¯é¡µç±»åž‹
- æž„å»ºç»“æž„ç´¢å¼• (ç« èŠ‚æ ‘)
- å»ºç«‹å…¨æ–‡ç´¢å¼•
    â†“
å­˜å‚¨åˆ° DocumentCache
    â†“
æ˜¾ç¤ºæ–‡æ¡£æ¦‚è§ˆï¼ˆé¡µæ•°ã€ç« èŠ‚ç»“æž„ï¼‰
```

### 4.2 æŸ¥è¯¢å¤„ç†æµç¨‹

```
ç”¨æˆ·è¾“å…¥æŸ¥è¯¢
    â†“
QueryProcessor.analyze_intent()
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Llama-3.1 åˆ†æžæŸ¥è¯¢                  â”‚
â”‚  - æå–ç›®æ ‡ (Table 1.2.1)           â”‚
â”‚  - æ“ä½œç±»åž‹ (æå–/æ ¼å¼åŒ–/è®¡ç®—)       â”‚
â”‚  - è¾“å‡ºæ ¼å¼ (Excel/JSON/è‡ªå®šä¹‰)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
IndexManager.search() â†’ å®šä½é¡µç 
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ ¹æ®é¡µé¢ç±»åž‹é€‰æ‹©å¤„ç†æ–¹å¼            â”‚
â”‚  - æ–‡å­—é¡µ â†’ PyMuPDF æå–            â”‚
â”‚  - æ‰«æé¡µ â†’ GLM-OCR å¤„ç†            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
æ ¹æ®æŸ¥è¯¢ç±»åž‹å¤„ç†ï¼š
  - ç®€å•æå– â†’ ç›´æŽ¥è¿”å›ž
  - æ ¼å¼è½¬æ¢ â†’ Llama-3.1 å¤„ç†
  - å¤šæ­¥éª¤ â†’ åˆ†æ­¥æ‰§è¡Œ
    â†“
ExportManager ç”Ÿæˆè¾“å‡º
    â†“
Streamlit å±•ç¤ºé¢„è§ˆ + ä¸‹è½½æŒ‰é’®
```

---

## 5. ç¡¬ä»¶ä¼˜åŒ–

**ç›®æ ‡ç¡¬ä»¶**ï¼šRTX 3070Ti 8GB VRAM

**ä¼˜åŒ–ç­–ç•¥**ï¼š

| æ¨¡åž‹ | é‡åŒ–ç‰ˆæœ¬ | VRAM å ç”¨ | GPU ç­–ç•¥ |
|------|---------|-----------|----------|
| GLM-OCR | Q4_K_M | ~3-4GB | n_gpu_layers=-1 |
| Llama-3.1-8B | Q4_K_M | ~5GB | n_gpu_layers=-1 |

**å†…å­˜ç®¡ç†**ï¼š
- æ¨¡åž‹æŒ‰éœ€åŠ è½½
- å¤„ç†å®ŒæˆåŽé‡Šæ”¾ VRAM
- æ”¯æŒå•æ¨¡åž‹æ¨¡å¼ï¼ˆä»… GLM-OCRï¼‰èŠ‚çœæ˜¾å­˜

---

## 6. ç”¨æˆ·ç•Œé¢è®¾è®¡

### ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“„ Local OCR    [è®¾ç½®]    [æ¨¡åž‹ç®¡ç†]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ðŸ“ ä¸Šä¼ æ–‡æ¡£ (PDF / å›¾ç‰‡)                        â”‚     â”‚
â”‚  â”‚  [æ‹–æ”¾æ–‡ä»¶æˆ–ç‚¹å‡»ä¸Šä¼ ]                            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                           â”‚
â”‚  å½“å‰æ–‡æ¡£: example.pdf (47 é¡µ)                           â”‚
â”‚  ç« èŠ‚: 1, 1.1, 1.2, 1.2.1, ...                           â”‚
â”‚                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ’¬ èŠå¤©                                                 â”‚
â”‚                                                           â”‚
â”‚  ç”¨æˆ·: ä»Ž Table 1.2.1XXX ä¸­æŠŠå…¨éƒ¨èµ„æ–™æå–æˆ Excel        â”‚
â”‚                                                           â”‚
â”‚  åŠ©æ‰‹: æ­£åœ¨å¤„ç† Table 1.2.1XXX (ç¬¬ 48 é¡µ)...             â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  â”‚ åˆ—1 â”‚ åˆ—2 â”‚ åˆ—3 â”‚                          â”‚     â”‚
â”‚  â”‚  â”‚-----|-----|-----|                          â”‚     â”‚
â”‚  â”‚  â”‚ æ•°æ®...                                â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                           â”‚
â”‚  [ä¸‹è½½ Excel] [ä¸‹è½½ CSV] [å¤åˆ¶ JSON]                      â”‚
â”‚                                                           â”‚
â”‚  [è¾“å…¥æ¶ˆæ¯...]                             [å‘é€]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. é¡¹ç›®ç»“æž„

```
localOCR/
â”œâ”€â”€ app.py                 # Streamlit ä¸»åº”ç”¨
â”œâ”€â”€ config.py              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt       # ä¾èµ–
â”œâ”€â”€ models/                # æ¨¡åž‹å­˜æ”¾ç›®å½•
â”‚   â”œâ”€â”€ glm-ocr/
â”‚   â””â”€â”€ llama-3.1/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ pdf_parser.py      # PDF è§£æž
â”‚   â”œâ”€â”€ index_manager.py   # ç´¢å¼•ç®¡ç†
â”‚   â”œâ”€â”€ model_manager.py   # æ¨¡åž‹ç®¡ç†
â”‚   â”œâ”€â”€ query_processor.py # æŸ¥è¯¢å¤„ç†
â”‚   â”œâ”€â”€ ocr_engine.py      # OCR å¼•æ“Ž
â”‚   â”œâ”€â”€ export_manager.py  # å¯¼å‡ºç®¡ç†
â”‚   â””â”€â”€ utils.py           # å·¥å…·å‡½æ•°
â”œâ”€â”€ cache/                 # OCR ç»“æžœç¼“å­˜
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ plans/
â”‚       â””â”€â”€ 2025-02-18-local-ocr-design.md
â””â”€â”€ tests/                 # æµ‹è¯•
```

---

## 8. ä¾èµ–

```
streamlit>=1.31.0
pymupdf>=1.23.0
llama-cpp-python>=0.2.0
huggingface-hub>=0.20.0
openpyxl>=3.1.0
pandas>=2.0.0
whoosh>=2.7.4
Pillow>=10.0.0
```
